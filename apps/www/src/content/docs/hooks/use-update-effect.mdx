---
title: useUpdateEffect
description: Docs for useUpdateEffect hook.
---

import { Code, Tabs, TabItem } from '@astrojs/starlight/components';
import hookTypescript from "../../../../../../packages/registry/src/hooks/use-update-effect/index.ts?raw";
import hookJavascript from "../../../../../../packages/registry/src/hooks/use-update-effect/index.js?raw";

Just like useEffect but runs only when anything in the array of dependencies change. Doesn't run on mount.

### Installation
<Code code="npx rabbithook@latest add use-update-effect" lang="bash" frame={false} />

### Usage
<Code
    lang="tsx"
    title="App.tsx"
    frame="code"
    code={`
import useUpdateEffect from "@/hooks/use-update-effect";

function Component() {
  const [count, setCount] = useState(0);

  useUpdateEffect(() => {
    // Will not run on mount

    console.log("Count changed: ", count); /* 1, 2, 3, 4, 5, ... */
  }, [count])

  return (
    <>
      <p>Count: { count }</p>

      <button onClick={() => setCount(count + 1)}>Increment</button>
    </>
  );
}
`}
  />

### Code
<Tabs>
  <TabItem label="Typescript">
    <Code
      lang="ts"
      title="use-update-effect.ts"
      frame="code"
      code={hookTypescript}
    />
  </TabItem>
  <TabItem label="Javascript">
    <Code
      lang="js"
      title="use-update-effect.js"
      frame="code"
      code={hookJavascript}
    />
  </TabItem>
</Tabs>

